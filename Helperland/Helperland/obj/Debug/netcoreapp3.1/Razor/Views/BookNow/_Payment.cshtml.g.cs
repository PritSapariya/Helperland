#pragma checksum "D:\Development\TatvaSoft\Project\Helperland\Helperland\Helperland\Views\BookNow\_Payment.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6f9a0f9a359b07cc9df3f2ff1b7decf46f331569"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_BookNow__Payment), @"mvc.1.0.view", @"/Views/BookNow/_Payment.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Development\TatvaSoft\Project\Helperland\Helperland\Helperland\Views\_ViewImports.cshtml"
using Helperland;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Development\TatvaSoft\Project\Helperland\Helperland\Helperland\Views\_ViewImports.cshtml"
using Helperland.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6f9a0f9a359b07cc9df3f2ff1b7decf46f331569", @"/Views/BookNow/_Payment.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b5f94cf04a7ec23f27ac33992ef127038e0b3154", @"/Views/_ViewImports.cshtml")]
    public class Views_BookNow__Payment : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\Development\TatvaSoft\Project\Helperland\Helperland\Helperland\Views\BookNow\_Payment.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<!-- Payment Section Starts -->
<div class=""row d-lg-none"">
    <span class=""step-title"">Make Payment</span>
    <p class=""hr-line""></p>
</div>
<div class=""row"">
    <label class=""form-label"">Please confirm your booking !!!</label>
    <p class=""hr-line""></p>
</div>
    <div class=""alert alert-success d-none"" id=""success-message-wrapper"" role=""alert"">
        <span id=""success-message-wrapper-message""></span>&nbsp;&nbsp;<button class=""btn render-page-button"" onclick=""window""><u>Click here to Book New Service</u></button>
    </div>
    <div class=""alert alert-danger d-none"" id=""error-message-wrapper"" role=""alert"">
        <span id=""success-message-wrapper-message""></span>&nbsp;&nbsp;<button class=""btn render-page-button""><u>Click here to enter data</u></button>
    </div>


<div class=""d-flex flex-row-reverse"">
    <input type=""button"" class=""btn btn-large-outline"" value=""Complete Booking"" id=""completeBooking"" />
</div>

<script>

    $().ready(() => {
        $(""#section4"").show()");
            WriteLiteral(@";

        const getAllValues = () => {

            var obj = {};

            obj.userId = parseInt($(""#userId"").text());
            obj.zipcode = $(""#postalCode"").val();
            obj.comments = $(""#comments"").val();
            obj.serviceStartDate = formatDateAndTime();
            obj.serviceHours = getServiceHours();
            obj.extraHours = getExtraServiceIdArr().length * 0.5;
            obj.hasPets = $(""input[name='haspets']"").is(':checked');
            obj.extraServiceId = getExtraServiceIdArr();
            obj.addressID = $(""input[name='address']:checked"").val();
            
            return obj;
        };

        $(""#completeBooking"").click(() => {

            var data = getAllValues();

            $.ajax({
                type: ""POST"",
                url: """);
#nullable restore
#line 55 "D:\Development\TatvaSoft\Project\Helperland\Helperland\Helperland\Views\BookNow\_Payment.cshtml"
                 Write(Url.Action("SaveServiceRequest"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                data: data,
                success: function (responce) {
                    
                    if (responce.success == true) {
                        $(""#success-message-wrapper"").removeClass(""d-none"");
                        $(""#success-message-wrapper-message"").text(responce.message);
                    }
                    else {
                        $(""#error-message-wrapper"").removeClass(""d-none"");
                        $(""#error-message-wrapper-message"").text(responce.message + "" kjyfdktfkhgck"");
                    }
                },
                failure: function (response) {
                    alert(""failure"");
                },
                error: function (response) {
                    alert(""Something went Worng"");
                }
            });

        });

        $("".render-page-button"").click(() => {
            window.location.reload();
        });

        const getExtraServiceIdArr = () => {
            var extraSe");
            WriteLiteral(@"rviceIdArr = [];
            var obj = $('input[name=""extraservice""]:checked');

            for (let i = 0; i < obj.length; i++) {
                let _id = parseInt($(obj[i]).val());
                extraServiceIdArr.push(_id);
            }
            
            return extraServiceIdArr;
        };
        const formatDateAndTime = () => {
            var startTime = $(""#serviceStartTime"").val();
            var startHour = Math.floor(startTime);
            var startMinute = startTime - startHour;

            if (startMinute > 0) {
                minute = ""30"";
            }
            else {
                minute = ""00"";
            }

            return $(""#serviceDate"").val() + "" "" + startHour + "":"" + minute;
        }
        const getServiceHours = () => {
            let arr = getExtraServiceIdArr().length;

            return $(""#serviceBaseTime"").val() - (arr * 0.5);
        }
    });

</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
